## 什么是知识库？

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4441d09b8bcb400384951104c280a9be~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=2880&h=570&s=172264&e=png&b=f4f6fa)

在介绍知识库怎么使用之前，我们先来聊聊什么是知识库。

**知识库是一种用于存储、管理和应用海量结构化、非结构化数据的系统**。它通过对信息进行收集、组织、分类和索引，使用户能够便捷地检索和利用这些知识。而 Coze 的知识库功能就是基于这一原理，为用户提供了一套完整的知识管理解决方案。

从数据层面看，知识库涵盖了各种类型和来源的文本、图像、音视频等形式的数据和信息。Coze 支持用户上传本地文件、在线网页、Notion 文档等多样化的数据源，并可通过 API 接口自动获取结构化数据，这为知识库注入了丰富的原始素材。

但原始数据必须经过妥善的组织和结构化才能发挥价值。**Coze 采用** **`知识库-单元-分段`** **三层结构来管理数据**。同一知识库内可创建多个单元，每个单元针对某一种类或来源的数据。单元内的文件或页面会被自动切分成多个信息分段，每个分段表达一个独立完整的知识点。用户也可自定义切分规则。这种结构化使知识库内容条理清晰、细粒度合理。

为了让用户快速找到所需信息，Coze 基于先进的`向量索引技术`，对分段内容进行语义向量化，使语义相似的内容映射到邻近的向量空间。

### 什么是向量？

这里要延伸一下了，什么是向量呢？

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b779d014361a4d13981039376bf01a52~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=512&h=512&s=21032&e=png&b=ffffff)

**向量是一个数学概念，表示既有大小又有方向的量，可以用一组数字来表示**。打个比方，向量就像一支箭，箭头指向的方向代表向量的方向，而箭杆的长度代表向量的大小。

在生活中，我们常见的一些例子其实就是向量:

* 航海中的航向和风速。航向告诉你船开向哪里，相当于向量的方向；而风速告诉你风有多大，相当于向量的大小。
* 手机导航时的路线指引。导航不仅告诉你目的地在哪个方向，还会显示距离，这就构成了一个向量。
* 游戏中的人物移动。游戏角色移动时有方向（如向前、向后、向左）和速度（如走、跑），这也形成了一个向量。
* 力的作用。物理学中，力是典型的向量，既有作用方向，又有力的大小，两者缺一不可。
* 在数学上，我们通常用一个带箭头的线段来画出向量，起点在坐标原点，终点坐标就是向量的值。例如一个平面向量 (2，3)，画出来就是从原点 (0，0) 指向点 (2，3) 的箭头。

在 Coze 知识库场景下，问句和分段都被转化成高维向量，这里的“维”可以理解为事物的特征。比如描述一个人可以从年龄、身高、体重等角度，每个角度就是一个维度，而不同的值（如 18 岁、170cm、60kg）就构成了这个人的特征向量。

### 什么是向量化？为什么需要向量化？

**向量化是一种将事物转化为数字形式表示的方法，就像给每样东西贴上一串数字标签**。生活中的例子有很多:

* 当你在手机上找一张照片时，手机会按照拍摄日期、地点、照片中的人物等信息给每张照片打上标签，这些标签就是照片的向量化表示。这样你就可以快速搜索到你想要的照片，而不用一张张翻看。
* 买书时，每本书都有 ISBN 号，这是书籍的向量化表示。通过 ISBN 号，书店或图书馆可以迅速找到这本书，而不会与其他书混淆。

那么，为什么需要向量化呢？原因主要有：

* 计算机只认识数字，向量化**让计算机理解事物的特征**，方便进行各种任务如检索、推荐等。
* 向量化把复杂的文本、图像等**非结构化数据转为结构化的数值形式**，为后续的数据分析、挖掘、应用奠定了基础。
* 向量化使相似的事物在数学上也接近，有利于**快速找到相关内容**。就像两个城市的地理位置可以用经纬度向量表示，距离近的城市坐标数值也相近。
* 海量信息中，靠人工查找难度大、效率低，向量化使**信息检索变得自动化和高效化**。就像图书管理员不用记住每本书的位置，只需输入编号就可以定位。

向量化把语言文字这样的非结构化内容映射到数学空间中，每个维度代表了词汇、语法、语义的某些特点。当两个向量越相似（数值越接近），它们在语义上也越相近。

所以，当你问一个问题时，系统把你的问题转化成一个向量 A，然后与知识库中每个分段的向量 B1、B2、B3...进行计算，看哪个分段向量与问句向量最接近，这个分段就可能包含了问题的答案。这个匹配过程就像是在一个 N 维空间中，找到与 A 距离最近的向量 B。

向量虽然抽象，但它是连接语言和数学的桥梁，让计算机可以理解自然语言的语义。向量化使得海量非结构化文本能够被高效检索和匹配，为我们打开了知识宝库的大门。**无论是 Coze 知识库，还是搜索引擎、智能问答、语义分析等领域，** **`向量化`** **都提供了基础支撑，让人机交互变得更加自然和高效**。

## Coze 知识库

扣⼦的知识库提供了⼀种简单易⽤的⽅式来存储、管理和应⽤的外部数据，让你的对话机器⼈能够就特定领域进⾏专业、准确的对话交互。其主要特点包括：

* **多样化数据源**：⽀持上传包括本地⽂件（.txt、.pdf、.docx、.csv、.xlsx 等）、在线⽹⻚、API 接⼝、Notion、飞书等多种类型和来源的⽂本和结构化数据。

* **智能内容分割**：上传的⽂档内容会被⾃动切分成若⼲个独⽴的信息⽚段进⾏存储，也⽀持⾃定义分段规则如关键词、字符⻓度等，有利于后续更精准地检索和应⽤。

* **灵活的应⽤⽅式**：将知识库关联到对话机器⼈后，可以选择⾃动调⽤或是按需调⽤的⽅式来使⽤知识库中的内容。同时，还可以将知识库嵌⼊到对话⼯作流的特定节点。

借助扣⼦知识库，你可以低成本、⾼效率地让对话机器⼈掌握各⾏各业的专业知识，创造出个性化的智能服务体验，为客户答疑解惑、传递信息，为企业价值创造提供有⼒⽀撑。

### 可参考的使⽤场景

1. **搭建⾏业知识专家**。针对特定⾏业，建⽴⼀个涵盖各种细分知识点的知识库，让对话机器⼈秒变⾏业专家。⽐如，为汽⻋⾏业创建⻋型参数知识库，机器⼈就可以详细解答每款⻋型的详细参数；为医疗⾏业上传疾病百科，机器⼈就能提供专业的医疗咨询。
2. **构建企业产品/服务助⼿**。企业可以将产品说明书、操作⼿册、服务条款等⽂档导⼊知识库，客户咨询相关问题时，对话机器⼈可以快速给出权威、准确的解答，全天候在线提供标准化服务，提升客户体验。
3. **打造员⼯培训/知识问答系统**。将岗位⼿册、业务规范、操作流程等内容上传⾄知识库后，员⼯可以随时通过对话机器⼈来学习了解相关知识。机器⼈可以针对员⼯的提问从知识库中找到最佳答案，起到员⼯培训和知识管理的作⽤。
4. **创建个性化虚拟员⼯/形象**。可以为虚拟员⼯或 IP ⻆⾊建⽴专属的知识库，囊括其背景故事、语⾔⻛格、⾏为习惯等设定，让对话机器⼈在与⽤户交流时以贴近真⼈的⽅式去检索、组织、输出信息，营造出鲜活的虚拟形象。

### 知识库的创建和管理

1. 创建知识库

在扣⼦平台选择“知识库”功能，点击“创建知识库”，输⼊知识库名称和简介，即可完成⼀个知识库的创建。知识库由⼤到⼩包含`知识库`、`单元`、`分段`三个层级。

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca3bd8a7cfa8480aabfcfc7840f80831~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.png#?w=2846&h=506&s=95993&e=png&a=1&b=f7f7fa)

2. 添加知识单元

**在知识库中新建 “单元”，其数据来源目前主要有两大分类：文本格式和表格格式**。文本格式对应的如本地文档、在线数据、Notion、飞书等。而表格格式对应的如本地文档、API、飞书等。以上传⽂本⽂件为例，⽀持 txt、pdf、docx 等格式，将本地⽂件拖拽或者选择需要上传的⽂件，点击“下⼀步”。

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d7268f5f8c944232aa454da42c4ee963~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.png#?w=1206&h=2032&s=206315&e=png&a=1&b=f3f5f9)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3154b259e0af47d8b35f5f4d6430f291~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.png#?w=1220&h=1864&s=179547&e=png&a=1&b=f3f5f9)

3. 配置分段和数据预处理

上传内容后，可以选择采⽤系统的“⾃动分段与清洗”或是“⾃定义”分段。在⾃动模式下，系统将根据内置的规则和算法进⾏内容切分和噪⾳数据清洗。⾃定义模式允许⽤户配置分段标识符、分段最⼤⻓度以及⽂本预处理规则（如去除空⽩字符、链接等），完成设置后点击“下⼀步”。

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/083e9767e6db49a493a958a70e6a0f42~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.png#?w=2262&h=940&s=113376&e=png&a=1&b=f5f5fa)![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52b4cace66fc49c5bc6cf4b7c88447ca~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.png#?w=2232&h=1510&s=186662&e=png&a=1&b=f4f4fb)

4. 上传和更新数据

成功上传⽂件后，系统将⾃动按照设定进⾏内容分段，分段结果可以在单元详情⻚预览。如果添加的是在线数据源，可以设置定期⾃动同步数据。针对表格类型数据，还需要指定数据范围、确认字段名称、选择⽤于语义匹配的索引列。后续如果需要更新知识库内容，可以在单元详情⻚选择“更新⽂档”并重新上传或设置数据源。

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b62b5c6a582a4066a849ed5b52498dc2~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.png#?w=2384&h=2024&s=1856996&e=png&a=1&b=ebe0ea)

5. 关联和应⽤知识库

创建机器⼈时，可以在设置⻚关联⼀个或多个知识库。针对每个知识库可以配置召回分段的数量、匹配度阈值以及调⽤⽅式（⾃动/按需）。在对话统计⻚可以查看知识库命中次数和召回的分段内容。如果是在对话⼯作流中应⽤，则需要添加知识库节点并绑定知识库。

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7ecd9ab65a0a4f8e8263a6fc2508822b~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.png#?w=1898&h=1308&s=174012&e=png&a=1&b=f8f8f8)

### 使⽤限制和注意事项

#### 资源限额

每个⽤户最多可创建 1000 个知识库，总容量上限为 10GB（每⽉新增 2GB），单个知识库最多 100 个单元，单元内最多 1 万个分段，表格单元最多 10 列字段。

#### 知识和记忆的对比

**Coze 的知识和记忆能力都可以用来存储数据**。在使用时可以从最终的使用者和存储的数据内容上进行区分。这里我直接沿用官方文档的说法：

* 知识（主要就是知识库）：知识是供 Bot 或工作流调用的静态数据，可在空间内共享。由开发者创建和维护，Bot 的终端用户无法对知识内容进行修改。

* 记忆（变量、数据库、长期记忆）：Coze 提供了数据库、变量、长期记忆等记忆功能。这些数据通常是 Bot 的终端用户在使用 Bot 时产生的动态数据，不支持跨 Bot 使用。

以一个租房平台的 Bot 为例，下表展示了哪些数据是需要通过“知识”功能来维护的，哪些数据是通过“记忆”功能来维护的。

|**类别**|**存储的数据**|**特点**|
|---|---|---|
|知识|房源信息、房屋图片、房屋描述、房屋价格、房屋地址、房屋设施、房屋评价等|由 Bot 开发者上传和维护、所有用户可见但不可修改、可跨 Bot 使用|
|记忆|用户信息、用户历史租房信息、用户关注的小区/房屋等|用户个人数据，不支持跨 Bot 使用|

## 总结

扣⼦知识库是⼀个集存储、管理、检索、应⽤于⼀体的知识管理利器，为对话机器⼈赋能提供了⼀套完整的解决⽅案。

但知识库的效⽤最终取决于导⼊内容的相关性和质量。作为使⽤者，应充分了解其功能特性，根据实际应⽤场景去规划和搭建知识体系，持续优化更新内容，这样才能充分发挥知识库的价值，让对话机器⼈真正成为懂⾏、有料、⾼效的智能助⼿，为业务创造更多价值。

## 延伸阅读

关于更多 Coze 知识库的功能讲解和说明，可以看看以下官方文档的相关内容，说得也是挺全面详细的，作为本篇内容的补充：

* [Coze 知识库介绍](https://www.coze.cn/docs/guides/knowledge "https://www.coze.cn/docs/guides/knowledge")
* [Coze 创建和使用知识库](https://www.coze.cn/docs/guides/use_knowledge "https://www.coze.cn/docs/guides/use_knowledge")
* [Coze 维护知识库](https://www.coze.cn/docs/guides/knowledge_maintain "https://www.coze.cn/docs/guides/knowledge_maintain")