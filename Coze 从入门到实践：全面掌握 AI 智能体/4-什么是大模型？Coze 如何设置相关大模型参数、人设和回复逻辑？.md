随着人工智能技术的迅猛发展，大语言模型（LLM，Large Language Model）在各类应用场景中逐渐展现出其强大的能力。那么，什么是大模型？在 Coze 系统中，我们又该如何设置相关的大模型参数、人设和回复逻辑？本文将为你一一解答。

## 大模型简介

在介绍大模型之前，我们先探讨一下生成式人工智能（生成式 AI）及其与传统机器学习之间的区别。

**生成式 AI 是机器学习的一个分支**，专注于开发能够根据用户输入生成自然语言文本、图像、代码、音频或视频的算法。**生成式 AI 也属于深度学习的一部分**，它能够利用深度学习模型进行调整，而无需重新训练。深度学习模拟了大脑中的神经元和突触连接，使得这些模型在复杂任务中表现出色。

![AI概念关系图](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72629cc896c140f7ba11d37a0922b7c4~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=722\&h=722\&s=119143\&e=png\&b=fce2de)

**生成式 AI 的核心在于大语言模型（LLM）**，这些模型使用大规模互联网数据进行预训练，被称为基础模型。与传统机器学习需要为每个任务单独收集数据并训练模型不同，基础模型可以在多种任务间进行调整和应用。

大语言模型（大模型）正因为是通过大量文本数据训练而成的人工智能模型，其具备强大的自然语言处理能力。它们能够理解和生成自然语言，广泛应用于文本生成、对话系统、翻译等任务中。大模型的强大在于其海量的参数和复杂的网络结构，使其在处理多样化语言任务时表现优异。

大模型的训练过程涉及以下几个步骤：

![OpenAI GPT 模型训练细节](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b8af8ac80af49da91ad9d710b135b6e~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1762&h=1098&s=274428&e=png&b=fdfdfd)

* **数据收集**：收集大量的文本数据，这些数据来自互联网、书籍、文章等多种来源。这些数据不仅涵盖各种语言，还包括多种领域，如科学、文学、技术、娱乐等。

* **预处理**：对数据进行清洗、标注和分词等处理。这一步骤确保数据的质量和一致性，使其适合用于训练深度学习模型。清洗过程包括去除噪声数据、纠正错误和标准化格式。

* **模型训练**：使用深度学习算法（如 Transformer 架构）对模型进行训练，使其能够学习语言的语法、语义和上下文关系。Transformer 架构是一种基于注意力机制的神经网络结构，能够高效地处理长距离依赖关系。

* **调优**：通过不断调整模型的参数和结构，提升其在特定任务上的表现。这包括调整学习率、优化器选择、正则化技术等。

其实大家可以将模型训练过程比作一个厨师学会烹饪美食的过程。首先，厨师需要收集各种食材（数据收集）；然后，对食材进行清洗和切割（预处理）；接下来，厨师根据食谱一步一步地进行烹饪（模型训练）；最后，不断品尝和调整调料，以做出更美味的菜肴（调优）。通过这个类比，我们可以更好地理解大模型的训练过程，起码记起来一下子就印象深刻了。

到目前为止，大语言模型的应用场景已经非常广泛了，包括但不限于以下几个方面：

* **文本生成**：生成自然流畅的文本，如新闻报道、小说创作、诗歌写作等。
* **对话系统**：构建智能客服、虚拟助手等，能够与用户进行自然的对话交流。
* **翻译系统**：实现多语言之间的自动翻译，提高翻译的准确性和流畅性。
* **文本分析**：进行情感分析、主题识别、文本分类等任务，帮助企业进行市场分析和用户行为研究。

## Coze 中的大模型

在 Coze 系统中，大模型被用于构建智能 AI 智能体，帮助用户实现多种任务。为了使大模型在 Coze 中发挥最佳效果，我们需要进行一系列的参数设置和优化。

**模型选择**

Coze 提供了多种大模型供用户选择，包括 MiniMax 6.5s、Moonshot 系列等。每种模型都有其特定的应用场景和特点，用户可以根据需求选择合适的模型。例如，MiniMax 6.5s 适合需要快速响应的大规模并发应用，而 Moonshot 系列则提供了不同大小的模型，适合从基础应用到高端应用的各种需求。

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/97fcf868f9d74755a48258f9f44f8d8f~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=870\&h=946\&s=99849\&e=png\&a=1\&b=ffffff)

**模型的输入及输出设置**

在 Coze 中，用户可以根据具体需求设置大模型的参数，以实现更好的效果。常见的参数设置包括：

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cfa5f91dbc3a4a58a54048874a9197f8~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1026\&h=1364\&s=152838\&e=png\&a=1\&b=fefefe)

* **携带上下文轮数**：决定模型在生成回复时考虑的对话历史轮数。上下文轮数越多，模型的回复会越具有连贯性，但同时也会消耗更多的计算资源。

* **最大回复长度**：设置模型生成回复的最大字数。根据任务需求，可以调整此参数以控制回复的详细程度。例如，在客服场景中，我们可能希望回复简洁明了，而在文学创作中，我们则可能需要更长的文本输出。

* **输出格式**：设置模型生成回复的输出格式，如文本、JSON、Markdown 等。不同的输出格式适用于不同的应用场景，用户可以根据需要选择合适的输出格式。

**模型的生成多样性**

生成多样性设置包括生成随机性（temperature）、Top P（累积概率）等参数。这些参数共同作用，影响模型生成回复的多样性和创造性。

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4f3f1c4e7c734f57971fe7f1a8e01024~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1016\&h=1348\&s=151397\&e=png\&a=1\&b=fefefe)

* **生成随机性（temperature）**：控制生成回复的随机性，值越高，生成的回复越多样化。低值适合精确任务，高值适合创意任务。

* **Top P**：通过累积概率选择生成回复的候选项，确保生成的回复既多样化又合理。Top P 值越高，回复越多样化，但也可能降低回复的相关性。

* **重复语句惩罚**：通过增加重复内容的生成成本，减少模型生成重复内容的可能性。这有助于提高回复的多样性和质量。

* **重复主题惩罚**：类似于重复语句惩罚，旨在避免生成过于重复的主题内容。

当然为了新手友好，Coze 本身对于生成多样式的方面预设了四个生成模式：精准模式、平衡模式、创意模式和自定义模式。下面我们详细介绍每种模式，并通过生活中的例子帮助大家理解。

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c737656b98e744a095355d5c4729bd5a~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=538\&h=1186\&s=132037\&e=png\&a=1\&b=fdfdfd)

1. 精确模式

   * 特点：严格遵循指令生成内容，适用于需要准确无误的场合，如正式文档、代码等。
   * 应用场景：当你需要模型生成准确且符合规范的内容时，使用精准模式非常合适。例如，撰写法律文书、编写代码片段或生成技术文档。

2. 平衡模式

   * 特点：在创新和精确之间寻求平衡，适用于大多数日常应用场景，生成有趣但不失严谨的内容。
   * 应用场景：适合需要既有趣又准确的内容，如撰写博客文章、生成社交媒体内容等。

3. 创意模式

   * 特点：激发创意，提供新颖独特的想法，适合需要灵感和独特观点的场景，如头脑风暴、创意写作等。
   * 应用场景：用于需要高度创造性的任务，例如写小说、诗歌、广告文案等。

4. 自定义模式

   * 特点：通过高级设置，自定义生成方式，根据需求，进行精细调整，实现个性化优化。
   * 应用场景：适合有特殊需求的用户，可以根据具体应用场景进行细致调整，以达到最佳效果。

## Coze 中的人设和回复逻辑

如果大家玩 AI 大模型比较多，一定对这个词很熟悉 —— 提示词。`人设和回复逻辑`其实就是设计`提示词`的地方。那什么是提示词呢？

**提示词（Prompt）是给大语言模型（LLM）的输入文本，用于指定模型应该执行什么样的任务并生成什么样的输出。**

在生成式人工智能模型中，提示词是用户输入的文本，用于引导模型产生期望的输出。这可以是简单的问题、详细的描述，或者是特定的任务。例如，在 DALLE-3 这样的图像生成模型中，提示词通常是描述性的；而在 GPT-4 或 Gemini 这样的 LLM 中，提示词可以是简单的查询，也可以是复杂的问题陈述。

提示词通常包含指令、问题、输入数据和示例。实际上，为了从 AI 模型中得到期望的回应，提示词必须包含指令或问题，其他元素则是可选的。在 LLM 中，基本的提示词可以简单到直接提问，或者提供特定任务的指令。而高级提示词则涉及更复杂的结构，比如“思维链”提示词，这种提示词引导模型遵循逻辑推理过程来得出答案。

在 Coze 中，用户可以通过设置人设和回复逻辑来引导大模型生成期望的回复，提高模型的回复准确性和相关性，使对话更加流畅和自然。

## 案例应用：智能客服系统

为了帮助大家更好地理解大模型及其在 Coze 中的应用，我们将通过一个实际案例来展示如何设置相关参数、人设和回复逻辑。假设我们要为一家电商平台构建一个智能客服系统，帮助用户解答常见问题、处理订单查询等任务。

**模型选择**

我们选择 Moonshot 128K 模型，因为它在性能和效率之间较为平均和稳定，适合处理较为长和复杂的对话任务。

**输入及输出设置**

* **携带上下文轮数**：设置为 5 轮，确保回复的连贯性。
* **最大回复长度**：设置为 2048 tokens。
* **输出格式**：选择文本格式，以便直接显示给用户。

**生成多样性设置**

* **生成随机性**：设置为 0.7，以在准确性和多样性之间取得平衡。
* **Top P**：设置为 0.9，以增加回复的多样性，但确保回复仍然合理。
* **重复语句惩罚**：设置为 0.2，减少生成重复内容的可能性。
* **重复主题惩罚**：设置为 0.2，避免生成过于重复的主题内容。

**人设与回复逻辑**

```markdown
# Role: 电商平台智能客服

## Profile:

- version: 1.0
- language: 中文
- description: 一个智能客服系统，能够识别用户意图、匹配预定义回复模板、并进行上下文分析，帮助用户解决常见问题和处理订单查询。

## Attention:

- 努力理解用户的问题，并提供准确且有用的答复。

## Background:

该电商平台希望通过智能客服系统提升客户服务质量和效率。智能客服系统需要能够识别用户的意图，匹配预定义的回复模板，并在对话过程中进行上下文分析，以提供连贯且相关的回复。

## Constraints:

1. 系统必须遵循平台的服务规范和用户隐私政策。
2. 系统需要及时更新常见问题库和回复模板，以保证信息的准确性。
3. 在无法处理用户问题时，系统应引导用户联系人工客服。

## Definition:

- **意图识别**：通过意图识别模型，系统能够识别用户的需求，如订单查询、产品咨询、售后服务等。
- **模板匹配**：为常见问题设置预定义的回复模板，以提高回复效率。
- **上下文分析**：系统能够结合对话上下文，生成连贯且相关的回复，确保用户体验的连续性和一致性。

## Examples:

- 用户询问：“我的订单状态是什么？”
  - 回复：“请稍等，我正在查询您的订单状态。您的订单号是[订单号]吗？”
- 用户询问：“如何退货？”
  - 回复：“我们的退货政策是...[退货政策详细信息]。请问您已经填写退货申请表了吗？”

## Goals:

1. 精确识别用户的意图，并快速响应用户的常见问题。
2. 通过模板匹配提高回复效率，减少人工客服的工作负担。
3. 利用上下文分析技术，提供连贯且相关的回复，提升用户体验。

## Skills:

1. 自然语言处理（NLP）技术，用于意图识别和上下文分析。
2. 大规模知识库管理，确保常见问题和答案的及时更新。
3. 数据分析能力，分析用户的反馈以持续优化系统表现。

## Tone:

专业、友好、耐心、清晰

## Value:

- 为用户提供快速、准确的解答。
- 减少人工客服的工作压力。
- 提升用户对电商平台的满意度和忠诚度。

## Workflow:

1. 问候用户：以友好的语气打招呼，询问用户需要帮助的内容。
2. 意图识别：利用 NLP 技术识别用户的意图。
3. 模板匹配：根据识别的意图，匹配预定义的回复模板。
4. 上下文分析：结合对话上下文，生成连贯且相关的回复。
5. 问题处理：提供详细的解答或指导用户进行下一步操作。
6. 结束对话：确认用户是否还有其他问题，并进行友好的告别。
```

通过以上设置，我们可以构建一个智能客服的 AI Bot，帮助用户解决常见问题和处理订单查询。系统能够识别用户的意图、匹配预定义回复模板，并进行上下文分析，提供连贯且相关的回复。也正是因为通过合理设置参数、人设和回复逻辑，我们才可以使对话交互更加生动、连贯和贴近用户需求。

## 总结

1. **大语言模型是人工智能的重要组成部分**。它们通过大量数据训练，具备强大的自然语言处理能力，能够理解和生成自然语言。

2. **选择合适的模型和参数设置至关重要**。不同的应用场景需要不同的模型和参数设置，以确保模型能够高效、准确地完成任务。

3. **人设和回复逻辑的设置可以提高对话系统的自然性和个性化**。通过明确的人设和合理的回复逻辑，可以使对话系统更加生动、连贯和贴近用户需求。

4. **实际应用案例展示了大模型的实用性**。通过智能客服系统的案例，详细讲解了如何在实际项目中设置和优化大模型的各项参数和功能。

5. **大模型的未来充满了无限可能**。随着技术的不断进步，我们可以期待大模型在更多领域中的广泛应用，为我们的生活和工作带来更多便利和创新。

## 参考资料

* \[1\] 大模型：[en.wikipedia.org/wiki/Large\_…](https://en.wikipedia.org/wiki/Large_language_model "https://en.wikipedia.org/wiki/Large_language_model")
* \[2\] OpenAI GPT-3 资料（Language Models are Few-Shot Learners）: [arxiv.org/pdf/2005.14…](https://arxiv.org/pdf/2005.14165.pdf "https://arxiv.org/pdf/2005.14165.pdf")